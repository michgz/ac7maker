<!DOCTYPE html>
<html>
<head>
<style>
/* Containers which should have an associated tooltip */
.tooltip {
  position: relative;
  font-weight: bold;
  margin-left: 20px;
  display; inline-block;
  border-bottom: 1px dotted black; /* dots under the hoverable text */
}

/* Containers which don't have a tooltip but otherwise should look the same */
.non-tooltip {
  position: relative;
  font-weight: bold;
  margin-left: 20px;
  display; inline-block;
}

.tooltip .tooltiptext {
  visibility: hidden;
  font-weight: normal;
  width: 120px;
  background-color: #595;
  color: #fff;
  text-align: left;
  padding: 0 2px 0 5px;
  border-radius: 6px;
  
  /* Position the tooltip */
  position: absolute;
  left: 100%;
  top: -10px;
  margin-left: 10px;
  
  /* Fade-in */
  opacity: 0;
  transition: opacity 0.3s;
}

/* Tooltip arrow */
.tooltip .tooltiptext::after {
  content: "";
  position: absolute;
  top: 0%;
  right: 100%;
  margin-top: 16px;
  border-width: 5px;
  border-style: solid;
  border-color: transparent #595 transparent transparent;
}

/* Show the tooltip on mousing over the relevant text */
.tooltip:hover .tooltiptext {
  visibility: visible;
  opacity: 1;
}
</style>
</head>
<body>

<h2>Format of ac7maker input files</h2>
<p>The python script <i>ac7maker</i> is called with the name of a file in JSON format which defines aspects the rhythm to be
created, including pointing to standard MIDI files which include the music data which defines the rhythm. As an example:</p>
<code>python ac7maker my-rhythm.json</code>
<p>The format of the JSON document is defined below. For each element, hover the mouse over to get more information on
the item.</p>

<hr>

<div class="non-tooltip" style="margin-left: 20px">{</div>

<div class="tooltip" style="margin-left: 40px">"name": "My Rhythm",
  <span class="tooltiptext" style="width: 220px"><p>A text value which can be used as the human-readable name for the
rhythm. This value is ignored by the program</p><p>Optional</p></span>
</div>

<div class="tooltip" style="margin-left: 40px">"target_model": "CT-X3000",
  <span class="tooltiptext" style="width: 220px"><p>A text value indicating which model of keyboard is the intended
target for this rhythm, such as "CT-X3000" or "CT-X700". This value is ignored by the program</p>
<p>Optional</p></span>
</div>

<div class="tooltip" style="margin-left: 40px">"target_family": "CT-X",
  <span class="tooltiptext" style="width: 220px"><p>A text value indicating which family of keyboard models is the intended
target for this rhythm, such as "CT-X" or "WK". This value is ignored by the program</p><p>Optional</p></span>
</div>

<div class="tooltip" style="margin-left: 40px">"rhythm": {
  <span class="tooltiptext" style="width: 220px"><p>A structure defining the rhythm to be created. Each JSON document should
contain exactly one field with the "rhythm" label</p><p>Mandatory</p></span>
</div>

<div class="tooltip" style="margin-left: 60px">"name": "MyRthm1",
  <span class="tooltiptext" style="width: 220px"><p>A text value defining the machine-readable name for the rhythm. It will
be shown (at least, up to 7 characters) on the keyboard display when the rhythm is selected for playing.</p>
<p>Optional. If omitted, the name will be blank</p>
</span>
</div>

<div class="tooltip" style="margin-left: 60px">"volume": 127,
  <span class="tooltiptext" style="width: 220px"><p>Master volume for playback of the rhythm</p>
<p>Possible values: 0 to 127</p>
<p>Optional. If omitted, will default to value 127</p>
</span>
</div>

<div class="tooltip" style="margin-left: 60px">"tempo": 180,
  <span class="tooltiptext" style="width: 220px"><p>Tempo for playback of the rhythm</p>
<p>Possible values: 20 to 255</p>
<p>Optional. If omitted, the rhythm will not define a tempo. As far as I can tell, the keyboard just
ignores this parameter anyway and simply uses the tempo selected by the performer</p>
</span>
</div>

<div class="tooltip" style="margin-left: 60px">"parts": [
  <span class="tooltiptext" style="width: 220px"><p>An array of exactly 8 structures defining the 8
parts ("Drum" through to "Chord 5", in order).</p>
<p>Mandatory</p>
</span>
</div>

<div class="non-tooltip" style="margin-left: 80px">{</div>
<div class="non-tooltip" style="margin-left: 100px">"part": 1,</div>
<div class="non-tooltip" style="margin-left: 100px">"_comment": "Percussion"</div>
<div class="non-tooltip" style="margin-left: 80px">},</div>

<div class="non-tooltip" style="margin-left: 80px">{</div>
<div class="non-tooltip" style="margin-left: 100px">"part": 2,</div>
<div class="non-tooltip" style="margin-left: 100px">"_comment": "Drums"</div>
<div class="non-tooltip" style="margin-left: 80px">},</div>

<div class="non-tooltip" style="margin-left: 80px">{</div>
<div class="non-tooltip" style="margin-left: 100px">"part": 3,</div>
<div class="non-tooltip" style="margin-left: 100px">"_comment": "Bass"</div>
<div class="non-tooltip" style="margin-left: 80px">},</div>

<div class="non-tooltip" style="margin-left: 80px">{</div>
<div class="non-tooltip" style="margin-left: 100px">"part": 4,</div>
<div class="non-tooltip" style="margin-left: 100px">"_comment": "Chord 1"</div>
<div class="non-tooltip" style="margin-left: 80px">},</div>

<div class="non-tooltip" style="margin-left: 80px">{</div>
<div class="non-tooltip" style="margin-left: 100px">"part": 5,</div>
<div class="non-tooltip" style="margin-left: 100px">"_comment": "Chord 2"</div>
<div class="non-tooltip" style="margin-left: 80px">},</div>

<div class="non-tooltip" style="margin-left: 80px">{</div>
<div class="non-tooltip" style="margin-left: 100px">"part": 6,</div>
<div class="non-tooltip" style="margin-left: 100px">"_comment": "Chord 3"</div>
<div class="non-tooltip" style="margin-left: 80px">},</div>

<div class="non-tooltip" style="margin-left: 80px">{</div>
<div class="non-tooltip" style="margin-left: 100px">"part": 7,</div>
<div class="non-tooltip" style="margin-left: 100px">"_comment": "Chord 4"</div>
<div class="non-tooltip" style="margin-left: 80px">},</div>

<div class="non-tooltip" style="margin-left: 80px">{</div>
<div class="non-tooltip" style="margin-left: 100px">"part": 8,</div>
<div class="non-tooltip" style="margin-left: 100px">"_comment": "Chord 5"</div>
<div class="non-tooltip" style="margin-left: 80px">}</div>

<div class="non-tooltip" style="margin-left: 60px">],</div>

<div class="tooltip" style="margin-left: 60px">"tracks": [
  <span class="tooltiptext" style="width: 420px"><p>An array of track definition structures.
Each track is associated to a part and an element. Each part/element combination may have no tracks
associated with it; that would indicate that part does not sound while that element is playing</p>
<p>Alternatively, the combination may have one or more tracks. Two tracks might be used, for
example, in conjunction with the "only_major" and "only_minor" options, indicating that one of
them might be used for major chords and the other for minor chords.
</p>
<p>Mandatory</p>
</span>
</div>

<div class="non-tooltip" style="margin-left: 80px">{</div>
<div class="non-tooltip" style="margin-left: 100px">"part": 2,</div>
<div class="non-tooltip" style="margin-left: 100px">"element": 2,</div>
<div class="non-tooltip" style="margin-left: 100px">"source_file": "el-02.mid",</div>
<div class="non-tooltip" style="margin-left: 100px">"source_channel": 10</div>
<div class="non-tooltip" style="margin-left: 80px">},</div>

<div class="non-tooltip" style="margin-left: 80px">{</div>
<div class="non-tooltip" style="margin-left: 100px">"part": 5,</div>
<div class="non-tooltip" style="margin-left: 100px">"element": 2,</div>
<div class="non-tooltip" style="margin-left: 100px">"source_file": "el-02.mid",</div>
<div class="non-tooltip" style="margin-left: 100px">"source_channel": 13,</div>
<div class="tooltip" style="margin-left: 100px">"no_transpose": 1
  <span class="tooltiptext" style="width: 420px"><p>Value 0 or 1</p>
<p>If set to 0, indicates that the music data from the MIDI file is recorded in C major and should
be transposed in the usual way to the chord that is currently playing. If set to 1, indicates that
the music data should be performed without transposing. This may be useful in several cases:
<ul>
<li>To create a drone, possibly suitable for Bagpipes</li>
<li>To use with non-melodic instruments such as Drum Kits or Berimbau</li>
<li>With upper octaves of "Versatile" instruments</li>
</ul>
</p>
<p>Optional. Defaults to 0. For Drum parts (parts 1 and 2), the music data will never be
transposed anyway and so this setting is ignored</p>
</span>
</div>
<div class="non-tooltip" style="margin-left: 80px">}</div>


<div class="non-tooltip" style="margin-left: 60px">]</div>

<div class="non-tooltip" style="margin-left: 40px">}</div>

<div class="non-tooltip" style="margin-left: 20px">}</div>


</body>


</html>
